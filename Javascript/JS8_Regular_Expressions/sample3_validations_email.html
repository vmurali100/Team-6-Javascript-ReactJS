<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form>
        <label for="email">Email </label>
        <input type="text" name="" id="email" onkeyup="validate()"> <br>
        <p style="color: red;display: none;">Please Enter Valid Email Id </p>
        <button disabled>Add User</button>
    </form>

    <script>
        function validate() {
            document.querySelector("p").style.display = "block"
            var inputValue = document.getElementById("email").value;
            var pattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/

            // if (pattern.test(inputValue)) { // for Valid email
            //     document.querySelector("p").style.display = "none";
            //     document.querySelector("button").removeAttribute("disabled")
            // } else if(inputValue.length == 0){ // for empty Input
            //     document.querySelector("button").setAttribute("disabled",true);
            //     document.querySelector("p").style.display = "none";
            // }else{ // for Invalid Email
            //     document.querySelector("p").style.display = "block";
            // }

            if (pattern.test(inputValue)) { // for Valid email
                document.querySelector("p").style.display = "none";
                document.querySelector("button").removeAttribute("disabled")
            } 

            if(inputValue.length == 0){ // for empty Input
                document.querySelector("button").setAttribute("disabled",true);
                document.querySelector("p").style.display = "none";
            }

           if(!pattern.test(inputValue)) { // for Invalid Email
                document.querySelector("p").style.display = "block";
                document.querySelector("button").setAttribute("disabled",true);

            }

        }
    </script>
</body>

</html>