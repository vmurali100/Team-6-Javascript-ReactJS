<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form action="">
        <h1>address</h1>
        <hr>

        <label for="street">street:</label>
        <input type="text" name="" id="street"><br><br>

        <label for="city,state">city,state:</label>
        <input type="text" name="" id="city">
        <input type="text" name="" id="state"><br><br>

        <label for="zipcode">zipcode:</label>
        <input type="text" name="" id="zipcode"><br><br>

        <label for="country">country:</label>
        <input type="text" name="" id="country"><br><br>

        <button type="button" id="adduser" onclick="adduser()" disabled>ok</button>
        <button>cancel</button>
    </form>
    <br>


    <table border="1" style="color:blue; background-color:gold">

        <thead>

            <th>street</th>
            <th>city,state</th>
            <th>zipcode</th>
            <th>country</th>
            <th>Edit</th>
            <th>Delete</th>


        </thead>
        <tbody>

        </tbody>
    </table>

    <script>
        var allusers = JSON.parse(localStorage.getItem("allusers"))

        if (allusers == null) {
            index = i
            allusers = []
        }

        function adduser() {
            var users = {
                street: document.getElementById("street").value,
                city: document.getElementById("city").value,
                state: document.getElementById("state").value,
                zipcode: document.getElementById("zipcode").value,
                country: document.getElementById("country").value


            }

            allusers.push(users)

            localStorage.setItem("allusers", JSON.stringify(allusers))

            console.log(users)
            // console.log(users)
            displayusers()

        }
        function clearsearch() {
            document.getElementById("street").value = "";
            document.getElementById("city").value = "";
            document.getElementById("state").value = "";
            document.getElementById("zipcode").value = "",
                document.getElementById("country").value = ""
        }

        function displayusers() {
            document.querySelector("tbody").innerHTML = ""



            allusers.forEach((users, i) => {
                var mytr = document.createElement("tr")
                for (a in users) {

                    var myTd = document.createElement("td")
                    myTd.innerHTML = users[a]
                    mytr.appendChild(myTd)
                }

                var editTd = document.createElement("td")
                var editbtn = document.createElement("button")
                editbtn.setAttribute("onclick", "edituser(" + i + ")")
                editbtn.innerHTML = "Edit"
                editTd.appendChild(editbtn)
                mytr.appendChild(editTd)


                var deleteTd = document.createElement("td")
                var deletebtn = document.createElement("button")
                deletebtn.setAttribute("onclick", "deleteuser(" + i + ")")
                deletebtn.innerHTML = "delete"
                deleteTd.appendChild(deletebtn)
                mytr.appendChild(deleteTd)

                document.querySelector("tbody").appendChild(mytr)

            })



        }
        displayusers()


        function edituser(i) {
            console.log("edit user called" + i)
        }

        function deleteuser(i) {
            console.log("delete user called" + i)
            allusers.splice(i, 1)
            displayusers(allusers)
        }


        function validate() {
            var users = {
                street: document.getElementById("street").value,
                city: document.getElementById("city").value,
                state: document.getElementById("state").value,
                zipcode: document.getElementById("zipcode").value,
                country: document.getElementById("country").value


            };

            if (check == true) {
                document.getElementById("adduser").setAttribute("disabled", true)
            } else {
                document.getElementById("adduser").removeAttribute("disabled")
            }


        }


    </script>



</body>

</html>