<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="">
        <label for="name">name</label><br>
        <input type="text" name="" id="name" onkeyup="validate()"/> <br /><br>
    
        <label for="date">date of birth</label><br>
        <input type="date" name="" id="date" onkeyup="validate()"/> <br /><br>
    
        <label for="hobbies">hobbies</label><br>
        <input type="text" name="" id="hobbies" onkeyup="validate()"/> <br /><br>
    
        <label for="place">place</label><br>
        <input type="text" name="" id="place" onclick="validate()">
        <br><br>
        <button type="button" id="addUser" onclick="addUser()" disabled>Add User</button>
      </form>
      <hr />
      <table border="1">
        <tr>
          <thead>
            <th>Name</th>
            <th>Date of birth</th>
            <th>Hobbies </th>
            <th>Place</th>
            <th>Edit</th>
            <th>Delete</th>
          </thead>
        </tr>
        <tbody></tbody>
      </table>
    
     <script>
    
        var allUsers = JSON.parse(localStorage.getItem("allUsers"));
        if (allUsers == null) {
          allUsers = [];
        }
        function addUser() {
          var user = {
            name: document.getElementById("name").value,
            date: document.getElementById("date").value,
            hobbies: document.getElementById("hobbies").value,
            place: document.getElementById("place").value,
          };
          allUsers.push(user);
    
          displayUsers(allUsers);
          clearForm();
        }
    
        function clearForm() {
          document.getElementById("name").value = "";
          document.getElementById("date").value = "";
          document.getElementById("hobbies").value = "";
          document.getElementById("place").value = "";
        }
    
        function displayUsers(data) {
          document.querySelector("tbody").innerHTML = "";
          data.forEach((user,i) => {
            var myTr = document.createElement("tr");
            for (a in user) {
              var myTd = document.createElement("td");
              myTd.innerHTML = user[a];
              myTr.appendChild(myTd);
            }
    
            var editTd = document.createElement("td")
            var editBtn = document.createElement("button");
            editBtn.setAttribute("onclick","editUser("+i+")")
            editBtn.innerHTML = "Edit";
            editTd.appendChild(editBtn);
            myTr.appendChild(editTd)
    
            var deleteTd = document.createElement("td")
            var deleteBtn = document.createElement("button")
            deleteBtn.setAttribute("onclick","deleteUser("+i+")")
    
            deleteBtn.innerHTML="Delete";
            deleteTd.appendChild(deleteBtn)
            myTr.appendChild(deleteTd)
    
            document.querySelector("tbody").appendChild(myTr);
          });
        }
    
    
        function editUser(i){
          console.log("editUser called "+i)
    
        }
    
        function deleteUser(i){
          allUsers.splice(i,1);
          displayUsers(allUsers)
        }
        displayUsers(allUsers);
    
    
        function validate(){
          var user = {
            name: document.getElementById("name").value,
            date: document.getElementById("date").value,
            hobbies: document.getElementById("hobbies").value,
            placeassword: document.getElementById("place").value,
          };
    
          var check = false;
          for(a in user){
            if(user[a] == ""){
              check = true
            }
          }
    
          if(check == true){
            document.getElementById("addUser").setAttribute("disabled",true);
          }else{
            document.getElementById("addUser").removeAttribute("disabled");
          }
    
        }
      </script>
</body>
</html>