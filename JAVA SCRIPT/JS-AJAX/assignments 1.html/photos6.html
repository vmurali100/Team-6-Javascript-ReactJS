 <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <form>
            <label for="albumId">albumId</label>
            <input type="text" name="" id="albumId"><br><br>

            <label for="id">id</label>
            <input type="text" name="" id="id">
            <br><br>

            <label for="title">title</label>
            <input type="text" name="" id="title"><br><br>

            <label for="url">url</label>
            <input type="text" name="" id="url"><br><br>

            <label for="thumbnailUrl">thumbnailUrl</label>
            <input type="text" name="" id="thumbnailUrl"><br><br>

            <input type="text" name="" id="id" hidden><br><br>

            <button type="button" onclick="adduser()" id="add">add user</button>
            <button type="button" onclick="updateUser()" id="update" style="display:none;">updateUser</button>
        </form>

        <table border="1">
            <thead>
                <th>albumId</th>
                <th>id</th>
                <th>title</th>
                <th>url</th>
                <th>thumbnailUrl</th>
                <th>edit</th>
                <th>delete</th>
            </thead>
            <tbody></tbody>
        </table>

        <script>
            var photosusers = []

            function adduser() {
                var user = {
                    albumId: document.getElementById("albumId").value,
                    id: document.getElementById("id").value,
                    title: document.getElementById("title").value,
                    url: document.getElementById("url").value,
                    thumbnailUrl: document.getElementById("thumbnailUrl").value

                };
                // console.log(user)

                var sendData = new XMLHttpRequest();


                photosusers.onreadystatechange = function () {
                    if (photosusers.status == 201 && photosusers.readyState == 4) {
                        console.log("user added successfully")
                        getphotosUsersfromAPI()
                    }
                }
                photosusers.open("POST", "http://localhost:3000/photos");
                photosusers.setRequestHeader("Content-type", "application/json");
                photosusers.send(JSON.stringify(user));

            }
            function getphotosUsersfromAPI() {
                var getData = new XMLHttpRequest();
                getData.onreadystatechange = function () {
                    if (getData.status == 200 && getData.readyState == 4) {
                        photosusers = JSON.parse(getData.response)
                        console.log(photosusers)
                        displayusers(photosusers)
                    }
                }

                getData.open("GET", "http://localhost:3000/photos/");
                getData.send();
            }


            function displayusers(photosusers) {
                document.querySelector("tbody").innerHTML = "",
                    photosusers.forEach((user, i) => {
                        var myTr = document.createElement("tr");
                        for (a in user) {
                            var myTd = document.createElement("td");
                            myTd.innerHTML = user[a];
                            myTr.appendChild(myTd);
                        }


                        // edit button

                        var editTd = document.createElement("td")
                        var editbtn = document.createElement("button");
                        editbtn.setAttribute("onclick", "edituser(" + i + ")")
                        editbtn.innerHTML = "Edit";
                        editTd.appendChild(editbtn);
                        myTr.appendChild(editTd)


                        // delete button.

                        var deleteTd = document.createElement("td")
                        var deletebtn = document.createElement("button");
                        deletebtn.setAttribute("onclick", "deleteuser(" + i + ")")
                        deletebtn.innerHTML = "Delete";
                        deleteTd.appendChild(deletebtn)
                        myTr.appendChild(deleteTd)



                        document.querySelector("tbody").appendChild(myTr);
                    });

            }


            function deleteuser(i) {
                console.log(photosusers[i])

                var deleteuser = new XMLHttpRequest()

                deleteuser.onreadystatechange = function () {
                    if (deleteuser.status == 200 && deleteuser.readyState == 4) {
                        console.log("user deleted success fully")
                    }

                }

                deleteuser.open("DELETE", " http://localhost:3000/photos/" + photosusers[i].id);
                deleteuser.setRequestHeader("Content-type", "application/json");

                deleteuser.send();
            }

            function edituser(i) {
                document.getElementById("albumId").value = photosusers[i].albumId;
                document.getElementById("id").value = photosusers[i].id;
                document.getElementById("title").value = photosusers[i].title;
                document.getElementById("url").value = photosusers[i].url;
                document.getElementById("thumbnailUrl").value = photosusers[i].thumbnailUrl


                document.getElementById("add").style.display = "none";
                document.getElementById("update").style.display = "block";

            }

            function updateUser() {

                var user = {
                    albumId: document.getElementById("albumId").value,
                    id: document.getElementById("id").value,
                    title: document.getElementById("title").value,
                    url: document.getElementById("url").value,
                    thumbnailUrl: document.getElementById("thumbnailUrl").value

                };

                var sendData = new XMLHttpRequest();


                sendData.onreadystatechange = function () {
                    if (photosusers.status == 201 && photosusers.readyState == 4) {
                        console.log("user added successfully")
                        getphotosUsersfromAPI()



                        document.getElementById("add").style.display = "block";
                        document.getElementById("update").style.display = "none";

                    }
                }
                sendData.open("PUT", "  http://localhost:3000/photos/" + photosusers.id);
                sendData.setRequestHeader("Content-type", "application/json");
                sendData.send(JSON.stringify(user));
            }

            getphotosUsersfromAPI()

        </script>
    </body>

    </html>