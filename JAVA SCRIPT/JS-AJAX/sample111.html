<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="getDataFromAPI()">get data</button>
    <table border="1">
        <thead></thead>
        <th>userId</th>
        <th>id</th>
        <th>title</th>
        <th>body</th>
        
        </thead>
        <tbody></tbody>

    </table>

    <script>
           function getDataFromAPI(){
             var getData=new XMLHttpRequest();

             getData.onreadystatechange=function(){
                 if( getData.readyState==4&& getData.status==200){
                     console.log(getData.response)
                     let allposts=JSON.parse(getData.response)
                    displayusers(allposts)
                 }
             }
             
             getData.open("GET","https://jsonplaceholder.typicode.com/posts");
              getData.send()
            
            }

            function displayusers(allusers){
                allusers.forEach((user,i) => {
                    console.log(user)
                    var myTr=document.createElement("tr");
                    for(a in user){
                        var myTd=document.createElement("td")
                        if(a !=="userId"&& a!=="body"){
                            myTd.innerHTML=user[a]
                        }else{
                            myTd.innerHTML=JSON.stringify(user[a])
                        }
                        myTr.appendChild(myTd)
                    }
                    document.querySelector("tbody").appendChild(myTr)
                    
                });
            }
    </script>
</body>

</html>